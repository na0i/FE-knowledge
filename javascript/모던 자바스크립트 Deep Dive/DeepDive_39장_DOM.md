## 39장 DOM

브라우저의 렌더링 엔진은 HTML 문서를 파싱하여 브라우저가 이해할 수 있는 자료구조인 DOM을 생성한다.
<br>

**DOM은 HTML 문서의 계층적 구조와 정보를 표현하며, 이를 제어할 수 있는 API(프로퍼티와 메서드)를 제공하는 트리 자료구조다.**

<br>

### 39.1 노드

#### 39.1.1 HTML 요소와 노드 객체

HTML 요소는 HTML 문서를 구성하는 개별적인 요소를 의미한다.

![스크린샷 2023-05-17 오후 8 36 04](https://github.com/na0i/FE-knowledge/assets/77482972/442ffa22-47e4-40d0-aa70-90cf73531e30)

<br>

HTML 요소는 렌더링 엔진에 의해 파싱되어 DOM을 구성하는 요소 노드 객체로 변환된다. 
- 어트리뷰트는 어트리뷰트 노드로
- 텍스트 콘텐츠는 텍스트 노드로 변환된다.

<br>

HTML 문서는 HTML 요소들의 집합으로 이뤄지며, HTML 요소는 중첩 관계를 갖는다.(→ HTML 요소의 콘텐츠 영역에 다른 HTML 요소도 포함될 수 있다.)

##### HTML 요소의 중첩 관계
- 중첩 관계에 의해 계층적인 부자 관계가 형성된다.
- 부자 관계를 반영해 HTML 요소를 객체화한 모든 노드 객체를 트리 자료 구조로 구성한다.

<br>

##### 트리 자료 구조

- 트리 자료구조는 노드들의 계층 구조로 이뤄진다. 
- 하나의 최상위 노드(루트 노드)에서 시작해 0개 이상의 자식 노드를 갖는다.
- 자식 노드가 없는 노드는 리프 노드라고 한다.

<br>

**노드 객체들로 구성된 트리 자료구조를 DOM이라 하며, 트리로 구조화 되어 있기 떄문에 DOM 트리라고도 부른다.**

<br>

#### 39.1.2 노드 객체의 타입

노드 객체는 총 12개의 종류(노드 타입)가 있다.

##### 문서 노드
- 문서 노드는 DOM 트리 최상위에 존재하는 루트 노드로
- document 객체를 가리킨다.
	> document 객체: 브라우저가 렌더링한 HTML 문서 전체를 가리키는 객체로 전역 객체 window의 document 프로퍼티에 바인딩되어 있다.

- 자바스크립트 코드는 script 태그에 의해 분리되어 있어도 하나의 전역 객체 window를 공유하기 때문에 모든 자바스크립트 코드는 하나의 document 객체를 바라본다.
- 즉, HTML 문서당 document 객체는 유일하다.
- DOM 트리의 루트 노드이므로 DOM 트리 노드들에 접근하기 위한 진입점 역할을 한다.

<br>

##### 요소 노드
- HTML 요소를 가리키는 객체다.
- 요소 노드는 중첩에 의해 부자 관계를 가진다.
- 문서의 구조를 표현한다고 할 수 있다.

<br>

##### 어트리뷰트 노드
- HTML 요소의 어트리뷰트를 가리키는 객체다.
- 어트리뷰트 노드는 어트리뷰트가 지정된 HTML 요소의 요소 노드와 연결되어 있다.
	- 단, 어트리뷰트 노드는 요소 노드에만 연결되고, 요소 노드가 연결된 부모 노드와는 연결되지 않는다.
	- 즉, 어트리뷰트 노드는 부모 노드가 없다.(요소 노드의 형제 노드도 아니다)
- 어트리뷰트를 참조하거나 변경하려면 먼저 요소 노드에 접근해야 한다.

<br>

##### 텍스트 노드
- HTML 요소의 텍스트를 가리키는 객체다.
- 텍스트 노드는 요소 노드의 자식 노드이고
- 자식을 가질 수 없는 리프 노드다.(DOM 트리의 최종단)
- 텍스트 노드에 접근하려면 부모 노드인 요소 노드에 먼저 접근해야 한다.
- 요소 노드는 문서의 구조를, 텍스트 노드는 문서의 정보를 표현한다고 할 수 있다.

<br>

#### 39.1.3 노드 객체의 상속 구조

DOM을 구성하는 노드 객체는 자신의 구조와 정보를 제어할 수 있는 DOM API를 사용할 수 있다. 

<br>
DOM API로

- 자신의 부모, 형제, 자식을 탐색할 수 있으며 
- 자신의 어트리뷰트와 텍스트를 조작할 수도 있다.

<br>

DOM을 구성하는 노드 객체는 ECMAScript 사양에 정의된 표준 빌트인 객체가 아니라 브라우저 환경에서 추가적으로 제공하는 `호스트 객체`다. 

##### 노드 객체

노드 객체도 자바스크립트 객체이므로 프로토타입에 의한 상속 구조를 갖는다.
 
![스크린샷 2023-05-17 오후 9 33 07](https://github.com/na0i/FE-knowledge/assets/77482972/8326897d-9cd5-4b9c-be9c-23ac5ce302ee)


